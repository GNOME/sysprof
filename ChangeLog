Sun Apr 17 00:20:41 2005  Soeren Sandmann  <sandmann@redhat.com>

	* sysprof.c (on_open_clicked): Factor out some stuff in their own
	functions.

	* sysprof.c (load_file): Idle handler to load files given on the
	command line.

	* sysprof.c (main): If a filename is passed on the command line,
	load it in an idle handler.

Sun Apr 17 00:19:03 2005  Soeren Sandmann  <sandmann@redhat.com>

	* TODO: Updates

Sat Apr 16 19:51:48 2005  Soeren Sandmann  <sandmann@redhat.com>

	* sysprof-module.c (read_user_space): Read a whole page at a time.

Sat Apr 16 14:15:55 2005  Soeren Sandmann  <sandmann@redhat.com>

	* TODO: Update
	
	* sysprof-module.c (x_access_process_vm): On kernel 2.6.9 and
	later use get_task_mm()/mmput() instead of directly accessing
	task->mm.

Sat Apr 16 01:54:18 2005  Søren Sandmann  <sandmann@redhat.com>

	* TODO: Add backtrace for kernel oops.

Fri Apr 15 16:37:45 2005  Soeren Sandmann  <sandmann@redhat.com>

	* TODO: updates

	* sysprof.c (sorry): If you hit profile when the module isn't
	loaded, pop up an annoying dialog.

	* sysprof-module.c: Clean-ups, remove various unused abstractions.

Sat Apr  9 17:49:13 2005  Søren Sandmann  <sandmann@redhat.com>

	* COPYING: Add a copy of the GPL

Sat Apr  9 17:04:50 2005  Søren Sandmann  <sandmann@redhat.com>

	* Makefile: Remove debug spew

	* *: Add copyright notices

Fri Apr  8 21:30:02 2005  Søren Sandmann  <sandmann@redhat.com>

	* TODO: More updates

Fri Apr  8 20:48:58 2005  Søren Sandmann  <sandmann@redhat.com>

	* sysprof.c (build_gui): Load the icon, hook up "about"
	activation.

	* sysprof.c (on_about_activated): New function. Show an about
	dialog.

	* sysprof.c (struct Application): Add an icon field

	* TODO: Updates
	
	* sysprof-icon.png: Icon, drawn by Diana Fong

Tue Apr  5 23:01:02 2005  Søren Sandmann  <sandmann@redhat.com>

	* binfile.c (read_symbols): Put back the weird loop, and stop
	pretending I understand this. This time use SEC_ALLOC instead of
	SEC_LOAD.

Tue Apr  5 20:13:44 2005  Søren Sandmann  <sandmann@redhat.com>

	* process.c (process_ensure_map): Add commented out debug spew.

	* process.c (process_lookup_symbol): Remove all should_offset()
	function and all references to it.

	* binfile.c (bin_file_lookup_symbol): Document that address must
	be in file coordinates.

	* binfile.c (read_symbols): Remove misguided code that tried to
	guess the load address of the file. Instead, do all computations
	in "file coordinates". Also fix a memory leak. Add commented out
	debug spew.

	* binfile.c (separate_debug_file_exists): Fix signedness

Tue Apr  5 14:34:43 2005  Søren Sandmann  <sandmann@redhat.com>

	* sysprof-module.c (x_access_process_vm): Make it compile with
	kernel 2.6.11

	* TODO: updates

Mon Apr  4 00:57:11 2005  Soeren Sandmann  <sandmann@redhat.com>

	* sysprof.c: Busy cursors in many more places.

	* TODO: updates

Sun Apr  3 23:28:45 2005  Soeren Sandmann  <sandmann@redhat.com>

	* sysprof-module.c (do_generate): Re-schedule the timeout here
	instead of in on_timer().
	
	* sysprof-module.c (on_timer): Only block tasks in the
	TASK_RUNNING state. 

Sun Apr  3 17:03:33 2005  Soeren Sandmann  <sandmann@redhat.com>

	* sysprof-module.c (queue_generate_stack_trace): Put current
	process to sleep.

	* sysprof-module.c (do_generate): Wake up the traced process

Thu Mar 31 23:09:09 2005  Soeren Sandmann  <sandmann@redhat.com>

	* sysprof.c (build_gui): Remove stray %

Thu Mar 31 21:18:13 2005  Søren Sandmann  <sandmann@redhat.com>

	* treeviewutils.c (add_double_format_column): Right justify numbers

	* sysprof.c (build_gui): Add a space after the numbers

	* sysprof.c (on_callers_row_activated): Focus object view

	* sysprof.c (on_descendants_row_activated): Focus new descendants
	tree. 

Thu Mar 31 19:51:51 2005  Søren Sandmann  <sandmann@redhat.com>

	* sysprof-module.c (do_generate): Walk all threads, not just all
	processes.

	* TODO: Add disk profiling ideas

Thu Mar 31 00:19:47 2005  Soeren Sandmann  <sandmann@redhat.com>

	* sysprof.c (set_busy): Make this function work

	* sysprof.c (on_profile_toggled): Use it here

	* sysprof.c (on_object_selection_changed): And here

	* profile.c (add_trace_to_tree): Use GPtrArrays instead of
	GHashTable and GList.

Mon Mar 28 11:09:02 2005  Soeren Sandmann  <sandmann@redhat.com>

	* TODO: updates

Sat Mar 26 19:26:52 2005  Søren Sandmann  <sandmann@redhat.com>

	* sysprof.c: Show the right number of samples afte Open; remove
	shadows from menu bars and toolbars; some other tweaks.

Sat Mar 26 11:26:00 2005  Soeren Sandmann  <sandmann@redhat.com>

	* TODO: Updates

	* sfile.c (add_string): Use g_markup_escape_text() to escape the
	string before adding it to the file.

	* sysprof.c (empty_file_descriptor): New function to make sure 
	samples generated before profiling started are ignored. 
	(set_busy): New commented out function to set a busy cursor.

Fri Mar 25 21:31:08 2005  Søren Sandmann  <sandmann@redhat.com>

	* sysprof.c (update_sensitivity): Comment out sensitivity of reset button.

Fri Mar 25 21:25:31 2005  Søren Sandmann  <sandmann@redhat.com>

	* sysprof.c (get_current_object): Return NULL if nothing is
	selected.

Fri Mar 25 20:54:08 2005  Søren Sandmann  <sandmann@redhat.com>

	* TODO: More updates

Fri Mar 25 20:25:44 2005  Søren Sandmann  <sandmann@redhat.com>

	* README: Require gtk+ 2.6

	* treeviewutils.c (add_plain_text_column): Ellipsisize text columns.

Fri Mar 25 19:39:24 2005  Søren Sandmann  <sandmann@redhat.com>

	* TODO: Remove "loading and saving"

	* sysprof.glade: Add ellipsises to Open and Save menu items.

	* sysprof.c (overwrite_file): Add this function, cutted-and-pasted
	from evince.

	* sysprof.c (on_save_as_clicked, on_open_clicked): Use
	GtkFileChoosers to pick the names.

	* sysprof.c: Various GUI updates.

Fri Mar 25 19:36:28 2005  Søren Sandmann  <sandmann@redhat.com>

	* sfile.c (bz2_compress): Add this function  Don't actually make
	any produce use of it.

	* profile.c (make_hash_table): Get rid of warning

Thu Mar 24 19:09:33 2005  Søren Sandmann  <sandmann@redhat.com>

	* sysprof.c: Various GUI updates 

	* TODO: update
	
	* sfile.[ch] (sformat_new_optional): Add some notes about an
	"optional" construction.

Wed Mar 23 00:04:07 2005  Soeren Sandmann  <sandmann@redhat.com>

	Primitive loading and saving.
	
	* sysprof.c (on_open_clicked): Hook up loading.

	* sfile.c: Add a copy of g_file_replace() from glib CVS HEAD.

	* sfile.c (add_string): Escape and quote the string

	* sfile.c (sfile_load): Initialize current_instruction and
	instructions_by_location

	* sfile.c (post_process_instructions_recurse): Handle NULL
	pointers properly.

	* sfile.c (handle_begin_element, handle_end_element, handle_text):
	Move error handling here from state_transition_begin/text/end.

	* sfile.c (handle_text): Discard whitespace-only strings

	* sfile.c (sfile_get_pointer, sfile_get_integer,
	sfile_get_string): expect both begin, value, and end transitions.

	* sfile.c (hook_up_pointers): Only treat instructions as pointer
	values when they are. Handle NULL targets properly. 

	* sfile.c (get_number): Fix a few read-freed-data bugs

	* profile.c (profile_load): Call sfile_end_get() for the profile;
	build the nodes_by_objects hash table. Build the call tree.

	* profile.c (create_format): Don't store next pointer, but do
	store total, self and toplevel.

	* profile.c (make_hash_table): New function to build
	nodes_by_object hashtable from loaded data

Sat Mar 12 11:05:19 2005  Soeren Sandmann  <sandmann@redhat.com>

	* sysprof-module.c: Fix small bug in add_timeout()
	* sysprof.c (build_gui): More descriptive tree labels
	* TODO: update

Thu Mar 10 16:37:52 2005  Søren Sandmann  <sandmann@redhat.com>

	* sysprof.c (build_gui): s/Cummulative/Cumulative/. Pointed out by
	Ian McIntosh.

Mon Mar  7 14:47:09 2005  Søren Sandmann  <sandmann@redhat.com>

	* README: Add note that you need to compile the module with
	the same compiler that compiled the kernel.

Sun Mar  6 22:56:21 2005  Soeren Sandmann  <sandmann@redhat.com>

	* sfile.c: Generate id's for objects and pointers.

Sat Mar  5 01:09:33 2005  Soeren Sandmann  <sandmann@redhat.com>

	* sfile.c: Bug fixes. Add actual generation.

Fri Mar  4 13:47:13 2005  Søren Sandmann  <sandmann@redhat.com>

	* sysprof.c: Remove include of non-existing tracing.h

Thu Mar  3 23:48:13 2005  Soeren Sandmann  <sandmann@redhat.com>

	* profile.c (profile_load): Write this function.

	* sfile.c: Add support for user defined record and list types.
	Simplify logic a lot.

Wed Mar  2 23:39:50 2005  Soeren Sandmann  <sandmann@redhat.com>

	* profile.[ch], sfile.[ch]: Experiment with a
	file-format-description format.

	* sysprof.c: Add commented out code using /proc/ based
	timeout.
	
Fri Jan 21 11:23:54 2005  Søren Sandmann  <sandmann@redhat.com>

	* README: Some updates - add note about SMP kernels.

	* sysprof-module.c: Go back to just sampling the current
	process.

	* ChangeLog: I guess these do make sense, so start one.
